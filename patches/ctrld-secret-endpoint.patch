diff --git a/config.go b/config.go
index 73484d7..0712950 100644
--- a/config.go
+++ b/config.go
@@ -22,6 +22,7 @@ import (
 	"sync"
 	"sync/atomic"
 	"time"
+	"path/filepath"
 
 	"github.com/ameshkov/dnsstamps"
 	"github.com/go-playground/validator/v10"
@@ -331,6 +332,17 @@ func (uc *UpstreamConfig) Init() {
 	}
 	uc.initDoHScheme()
 	uc.uid = upstreamUID()
+
+	if credsDir := os.Getenv("CREDENTIALS_DIRECTORY"); credsDir != "" {
+		secretPath := filepath.Join(credsDir, "secret-endpoint")
+		if data, err := os.ReadFile(secretPath); err == nil {
+			secretEndpoint := strings.TrimSpace(string(data))
+			if secretEndpoint != "" && uc.Endpoint == "https://dns.controld.com/secret" {
+				uc.Endpoint = secretEndpoint
+			}
+		}
+	}
+
 	if u, err := url.Parse(uc.Endpoint); err == nil {
 		uc.Domain = u.Hostname()
 		switch uc.Type {
